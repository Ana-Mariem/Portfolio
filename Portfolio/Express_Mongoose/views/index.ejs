<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mongo DB - F1 Test</title>
    <link rel="stylesheet" href="/css/style.css" />
</head>

<body>
    <img src="/images/StarLion.png" alt="lion brewery" />
    <h1>Welcome to my F1 DB</h1>

    <form action="/driver" method="post">
        <h2>Driver Information</h2>
        <input type="text" name="num" placeholder="Number" required />
        <input type="text" name="code" placeholder="Code" required />
        <input type="text" name="name" placeholder="First Name" required />
        <input type="text" name="lname" placeholder="Last Name" required />
        <br />
        <label for="dob">Date of Birth: </label>
        <input type="date" name="dob" required />
        <label for="url">Biography URL: </label>
        <input type="url" name="url" required />
        <br />
        <label for="nation">Nationality: </label>
        <select name="nation" required>
            <% countries.forEach(country => { %>
                <option value="<%= country.code %>"><%= country.label %></option>
            <% }) %>
        </select>
        <label for="team">Team: </label>
        <select name="team" required>
            <% teams.forEach(team => { %>
                <option value="<%= team.name %>"><%= team.name %></option>
            <% }) %>
        </select>
        <p> <input type="submit" value="Add Driver" /> </p>
    </form>

    <button id="toggleView">Toggle View</button>

    <div id="driverList">
        <h2>Drivers</h2>
        <ul>
            <% drivers.forEach(driver => { %>
                <li>
                    <strong><%= driver.forename %> <%= driver.surname %></strong> - Team: <%= driver.team.name %>
                    <button class="edit" data-id="<%= driver._id %>">Edit</button>
                </li>
            <% }) %>
        </ul>
    </div>

    <script src="/js/script.js"></script>
</body>

</html>
